"use strict";(globalThis.webpackChunkhumanoid_robotic_book=globalThis.webpackChunkhumanoid_robotic_book||[]).push([[648],{299:(e,n,t)=>{t.d(n,{A:()=>l});var s=t(6540);const o="interactiveLessonContainer_pdzt",a="lessonHeader_BiVh",i="lessonMeta_jdmH",r="lessonContent_Ivyb",l=({title:e,chapter:n,lesson:t,children:l})=>s.createElement("div",{className:o},s.createElement("div",{className:a},s.createElement("h1",null,e),s.createElement("div",{className:i},"Chapter ",n,", Lesson ",t)),s.createElement("div",{className:r},l))},5680:(e,n,t)=>{t.d(n,{xA:()=>m,yg:()=>_});var s=t(6540);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,s)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){o(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function r(e,n){if(null==e)return{};var t,s,o=function(e,n){if(null==e)return{};var t,s,o={},a=Object.keys(e);for(s=0;s<a.length;s++)t=a[s],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)t=a[s],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=s.createContext({}),c=function(e){var n=s.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},m=function(e){var n=c(e.components);return s.createElement(l.Provider,{value:n},e.children)},p="mdxType",f={inlineCode:"code",wrapper:function(e){var n=e.children;return s.createElement(s.Fragment,{},n)}},u=s.forwardRef(function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,m=r(e,["components","mdxType","originalType","parentName"]),p=c(t),u=o,_=p["".concat(l,".").concat(u)]||p[u]||f[u]||a;return t?s.createElement(_,i(i({ref:n},m),{},{components:t})):s.createElement(_,i({ref:n},m))});function _(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=u;var r={};for(var l in n)hasOwnProperty.call(n,l)&&(r[l]=n[l]);r.originalType=e,r[p]="string"==typeof e?e:o,i[1]=r;for(var c=2;c<a;c++)i[c]=t[c];return s.createElement.apply(null,i)}return s.createElement.apply(null,t)}u.displayName="MDXCreateElement"},6541:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>m});var s=t(8168),o=(t(6540),t(5680)),a=t(299);const i={sidebar_position:1},r=void 0,l={unversionedId:"chapter5/lesson3/capstone-project-execution",id:"chapter5/lesson3/capstone-project-execution",title:"capstone-project-execution",description:"In this comprehensive capstone lesson, you'll integrate all the concepts learned throughout the course to execute a complete humanoid robotics project. This lesson brings together perception, planning, control, AI integration, and system orchestration to create a functional, intelligent humanoid robot system.",source:"@site/docs/chapter5/lesson3/capstone-project-execution.mdx",sourceDirName:"chapter5/lesson3",slug:"/chapter5/lesson3/capstone-project-execution",permalink:"/humanoid_robotic_book/docs/chapter5/lesson3/capstone-project-execution",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"mySidebar",previous:{title:"cognitive-planning",permalink:"/humanoid_robotic_book/docs/chapter5/lesson2/cognitive-planning"},next:{title:"ADR 004: Context 7 Feedback Integration",permalink:"/humanoid_robotic_book/docs/adr/adr-004"}},c={},m=[{value:"Introduction to Capstone Project Execution",id:"introduction-to-capstone-project-execution",level:2},{value:"Key Phases of Capstone Execution",id:"key-phases-of-capstone-execution",level:3},{value:"System Architecture Design",id:"system-architecture-design",level:2},{value:"Complete Humanoid Robot System Architecture",id:"complete-humanoid-robot-system-architecture",level:3},{value:"Component Integration and Orchestration",id:"component-integration-and-orchestration",level:2},{value:"System Integration Manager",id:"system-integration-manager",level:3},{value:"Simulation to Real Deployment",id:"simulation-to-real-deployment",level:2},{value:"Hardware Abstraction Layer",id:"hardware-abstraction-layer",level:3},{value:"Performance Optimization and Profiling",id:"performance-optimization-and-profiling",level:2},{value:"System Performance Monitor",id:"system-performance-monitor",level:3},{value:"Testing and Validation Framework",id:"testing-and-validation-framework",level:2},{value:"Comprehensive Testing Suite",id:"comprehensive-testing-suite",level:3},{value:"Deployment and Validation",id:"deployment-and-validation",level:2},{value:"Complete Deployment Script",id:"complete-deployment-script",level:3},{value:"Best Practices for Capstone Projects",id:"best-practices-for-capstone-projects",level:2},{value:"1. System Design Principles",id:"1-system-design-principles",level:3},{value:"2. Integration Strategies",id:"2-integration-strategies",level:3},{value:"3. Performance Considerations",id:"3-performance-considerations",level:3},{value:"4. Safety and Reliability",id:"4-safety-and-reliability",level:3},{value:"Troubleshooting Common Integration Issues",id:"troubleshooting-common-integration-issues",level:2},{value:"1. Communication Problems",id:"1-communication-problems",level:3},{value:"2. Performance Bottlenecks",id:"2-performance-bottlenecks",level:3},{value:"3. Hardware Integration Issues",id:"3-hardware-integration-issues",level:3},{value:"Hands-on Exercise",id:"hands-on-exercise",level:2},{value:"Quiz Questions",id:"quiz-questions",level:2}],p={toc:m},f="wrapper";function u({components:e,...n}){return(0,o.yg)(f,(0,s.A)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,o.yg)(a.A,{title:"Capstone Project Execution",chapter:5,lesson:3,mdxType:"InteractiveLesson"},(0,o.yg)("h1",{id:"capstone-project-execution"},"Capstone Project Execution"),(0,o.yg)("p",null,"In this comprehensive capstone lesson, you'll integrate all the concepts learned throughout the course to execute a complete humanoid robotics project. This lesson brings together perception, planning, control, AI integration, and system orchestration to create a functional, intelligent humanoid robot system."),(0,o.yg)("h2",{id:"introduction-to-capstone-project-execution"},"Introduction to Capstone Project Execution"),(0,o.yg)("p",null,"The capstone project execution involves synthesizing all the components learned in previous chapters:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Perception Systems"),": Sensor integration and data processing"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Planning & Control"),": Navigation, manipulation, and locomotion"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"AI Integration"),": Machine learning, computer vision, and decision making"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"System Integration"),": ROS 2, Gazebo, Isaac Sim, and real-world deployment"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Project Management"),": Planning, execution, and validation")),(0,o.yg)("h3",{id:"key-phases-of-capstone-execution"},"Key Phases of Capstone Execution"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"System Design & Architecture"),": Define the complete system structure"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Component Integration"),": Connect all individual components"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"System Testing"),": Validate integrated functionality"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Performance Optimization"),": Improve efficiency and reliability"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Validation & Deployment"),": Deploy and validate in target scenarios")),(0,o.yg)("h2",{id:"system-architecture-design"},"System Architecture Design"),(0,o.yg)("h3",{id:"complete-humanoid-robot-system-architecture"},"Complete Humanoid Robot System Architecture"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String, Bool\nfrom sensor_msgs.msg import Image, Imu, LaserScan\nfrom geometry_msgs.msg import Twist, PoseStamped\nfrom nav_msgs.msg import Odometry\nfrom humanoid_robot_msgs.msg import RobotStatus, TaskRequest, TaskResult\nfrom tf2_ros import TransformBroadcaster\nimport threading\nimport queue\nimport time\nfrom typing import Dict, List, Optional\n\nclass HumanoidRobotSystem(Node):\n    def __init__(self):\n        super().__init__('humanoid_robot_system')\n\n        # Initialize all system components\n        self.initialize_perception_system()\n        self.initialize_control_system()\n        self.initialize_planning_system()\n        self.initialize_ai_system()\n        self.initialize_communication_system()\n\n        # System state management\n        self.system_state = {\n            'initialized': False,\n            'operational': False,\n            'mode': 'standby',  # standby, autonomous, teleoperation, maintenance\n            'health_status': 'nominal',\n            'last_error': None\n        }\n\n        # Publishers and subscribers\n        self.status_pub = self.create_publisher(RobotStatus, '/robot_status', 10)\n        self.health_check_timer = self.create_timer(1.0, self.health_check)\n\n        # Task management\n        self.task_queue = queue.Queue()\n        self.active_task = None\n        self.task_executor_thread = threading.Thread(target=self.task_executor, daemon=True)\n        self.task_executor_thread.start()\n\n        # Initialize system\n        self.initialize_system()\n\n    def initialize_perception_system(self):\n        \"\"\"Initialize perception components\"\"\"\n        self.get_logger().info('Initializing perception system...')\n\n        # Camera systems\n        self.front_camera_sub = self.create_subscription(\n            Image, '/camera/rgb/image_raw', self.camera_callback, 10)\n        self.depth_camera_sub = self.create_subscription(\n            Image, '/camera/depth/image_raw', self.depth_callback, 10)\n\n        # IMU and other sensors\n        self.imu_sub = self.create_subscription(\n            Imu, '/imu/data', self.imu_callback, 10)\n        self.lidar_sub = self.create_subscription(\n            LaserScan, '/scan', self.lidar_callback, 10)\n\n        # TF broadcaster\n        self.tf_broadcaster = TransformBroadcaster(self)\n\n    def initialize_control_system(self):\n        \"\"\"Initialize control components\"\"\"\n        self.get_logger().info('Initializing control system...')\n\n        # Motor control interfaces\n        self.joint_command_pub = self.create_publisher(\n            JointTrajectory, '/joint_trajectory_controller/joint_trajectory', 10)\n        self.velocity_pub = self.create_publisher(\n            Twist, '/cmd_vel', 10)\n\n        # Control parameters\n        self.control_params = {\n            'walking_speed': 0.5,  # m/s\n            'turning_speed': 0.5,  # rad/s\n            'balance_margin': 0.05,  # m\n            'step_height': 0.1      # m\n        }\n\n    def initialize_planning_system(self):\n        \"\"\"Initialize planning components\"\"\"\n        self.get_logger().info('Initializing planning system...')\n\n        # Navigation stack\n        self.nav2_client = self.create_client(NavigateToPose, 'navigate_to_pose')\n\n        # Path planning\n        self.path_planner = self.create_client(MakePlan, 'make_plan')\n\n        # Task planning\n        self.task_planner = CognitivePlanningSystem(self)\n\n    def initialize_ai_system(self):\n        \"\"\"Initialize AI components\"\"\"\n        self.get_logger().info('Initializing AI system...')\n\n        # Vision processing\n        self.vision_processor = VisionProcessor(self)\n\n        # Natural language processing\n        self.nlp_system = NLPSystem(self)\n\n        # Decision making\n        self.decision_maker = DecisionMakingSystem(self)\n\n    def initialize_communication_system(self):\n        \"\"\"Initialize communication components\"\"\"\n        self.get_logger().info('Initializing communication system...')\n\n        # High-level task interface\n        self.task_request_sub = self.create_subscription(\n            TaskRequest, '/task_request', self.task_request_callback, 10)\n        self.task_result_pub = self.create_publisher(\n            TaskResult, '/task_result', 10)\n\n        # Status and health monitoring\n        self.status_sub = self.create_subscription(\n            RobotStatus, '/robot_status', self.status_callback, 10)\n\n    def initialize_system(self):\n        \"\"\"Complete system initialization\"\"\"\n        try:\n            # Initialize all components\n            self.get_logger().info('Starting system initialization...')\n\n            # Wait for services to be available\n            if self.nav2_client.wait_for_service(timeout_sec=5.0):\n                self.get_logger().info('Navigation system ready')\n            else:\n                self.get_logger().warn('Navigation system not available')\n\n            if self.path_planner.wait_for_service(timeout_sec=5.0):\n                self.get_logger().info('Path planning system ready')\n            else:\n                self.get_logger().warn('Path planning system not available')\n\n            # Set system state\n            self.system_state['initialized'] = True\n            self.system_state['operational'] = True\n            self.system_state['mode'] = 'standby'\n\n            self.get_logger().info('System initialization complete')\n\n        except Exception as e:\n            self.get_logger().error(f'System initialization failed: {e}')\n            self.system_state['initialized'] = False\n            self.system_state['health_status'] = 'error'\n            self.system_state['last_error'] = str(e)\n\n    def health_check(self):\n        \"\"\"Periodic system health check\"\"\"\n        # Check all critical components\n        health_status = 'nominal'\n\n        # Check perception system\n        if not hasattr(self, 'last_camera_time'):\n            health_status = 'warning'\n        elif time.time() - self.last_camera_time > 5.0:  # No camera data for 5 seconds\n            health_status = 'degraded'\n\n        # Check control system\n        if not hasattr(self, 'control_system_active'):\n            health_status = 'warning'\n\n        # Update system state\n        self.system_state['health_status'] = health_status\n\n        # Publish status\n        status_msg = RobotStatus()\n        status_msg.initialized = self.system_state['initialized']\n        status_msg.operational = self.system_state['operational']\n        status_msg.mode = self.system_state['mode']\n        status_msg.health_status = self.system_state['health_status']\n        status_msg.error_message = self.system_state['last_error'] or \"\"\n        status_msg.timestamp = self.get_clock().now().to_msg()\n\n        self.status_pub.publish(status_msg)\n\n    def task_request_callback(self, msg):\n        \"\"\"Handle incoming task requests\"\"\"\n        self.get_logger().info(f'Received task request: {msg.description}')\n\n        # Add to task queue\n        self.task_queue.put(msg)\n\n        # If no active task, start processing\n        if self.active_task is None:\n            self.process_next_task()\n\n    def task_executor(self):\n        \"\"\"Background task execution thread\"\"\"\n        while rclpy.ok():\n            try:\n                # Wait for next task\n                task = self.task_queue.get(timeout=1.0)\n\n                # Process task\n                self.active_task = task\n                result = self.execute_task(task)\n\n                # Publish result\n                result_msg = TaskResult()\n                result_msg.task_id = task.task_id\n                result_msg.result = result\n                result_msg.timestamp = self.get_clock().now().to_msg()\n                self.task_result_pub.publish(result_msg)\n\n                # Mark task as complete\n                self.active_task = None\n                self.task_queue.task_done()\n\n            except queue.Empty:\n                continue  # No task, continue loop\n            except Exception as e:\n                self.get_logger().error(f'Task execution error: {e}')\n                self.active_task = None\n\n    def execute_task(self, task):\n        \"\"\"Execute a specific task\"\"\"\n        self.get_logger().info(f'Executing task: {task.description}')\n\n        # Update system mode\n        self.system_state['mode'] = 'autonomous'\n\n        try:\n            # Parse task and generate plan\n            plan = self.task_planner.generate_plan(task.description, self.get_current_context())\n\n            if not plan:\n                return \"FAILED: No plan generated\"\n\n            # Execute plan step by step\n            for step in plan:\n                if not self.execute_plan_step(step):\n                    return f\"FAILED: Step failed - {step}\"\n\n            # Task completed successfully\n            return \"SUCCESS\"\n\n        except Exception as e:\n            self.get_logger().error(f'Task execution failed: {e}')\n            return f\"FAILED: {str(e)}\"\n        finally:\n            # Return to standby mode\n            self.system_state['mode'] = 'standby'\n\n    def execute_plan_step(self, step):\n        \"\"\"Execute a single plan step\"\"\"\n        step_type = step['action']\n        params = step.get('parameters', {})\n\n        self.get_logger().info(f'Executing step: {step_type} with params: {params}')\n\n        try:\n            if step_type == 'navigate_to':\n                return self.execute_navigation_step(params)\n            elif step_type == 'pick_up':\n                return self.execute_manipulation_step('pick', params)\n            elif step_type == 'place_down':\n                return self.execute_manipulation_step('place', params)\n            elif step_type == 'detect_object':\n                return self.execute_perception_step(params)\n            elif step_type == 'speak':\n                return self.execute_communication_step(params)\n            else:\n                self.get_logger().error(f'Unknown action type: {step_type}')\n                return False\n\n        except Exception as e:\n            self.get_logger().error(f'Step execution failed: {e}')\n            return False\n\n    def get_current_context(self):\n        \"\"\"Get current robot and environment context\"\"\"\n        return {\n            'robot_state': self.get_robot_state(),\n            'environment': self.get_environment_state(),\n            'capabilities': self.get_robot_capabilities()\n        }\n\n    def get_robot_state(self):\n        \"\"\"Get current robot state\"\"\"\n        # This would integrate with actual robot state\n        return {\n            'position': {'x': 0.0, 'y': 0.0, 'z': 0.0},\n            'orientation': {'x': 0.0, 'y': 0.0, 'z': 0.0, 'w': 1.0},\n            'battery_level': 0.8,\n            'temperature': 35.0,\n            'joint_angles': {},\n            'balance_status': 'stable'\n        }\n\n    def get_environment_state(self):\n        \"\"\"Get current environment state\"\"\"\n        # This would integrate with perception system\n        return {\n            'map': {},\n            'obstacles': [],\n            'objects': [],\n            'people': []\n        }\n\n    def get_robot_capabilities(self):\n        \"\"\"Get robot capabilities\"\"\"\n        return {\n            'max_speed': 0.5,\n            'max_payload': 5.0,\n            'manipulation_range': 1.0,\n            'sensor_range': 10.0,\n            'available_actions': [\n                'navigate_to', 'pick_up', 'place_down',\n                'detect_object', 'speak', 'listen'\n            ]\n        }\n\ndef main(args=None):\n    rclpy.init(args=args)\n    robot_system = HumanoidRobotSystem()\n\n    try:\n        rclpy.spin(robot_system)\n    except KeyboardInterrupt:\n        robot_system.get_logger().info('Shutting down humanoid robot system')\n    finally:\n        robot_system.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n")),(0,o.yg)("h2",{id:"component-integration-and-orchestration"},"Component Integration and Orchestration"),(0,o.yg)("h3",{id:"system-integration-manager"},"System Integration Manager"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String, Bool\nfrom lifecycle_msgs.srv import ChangeState, GetState\nimport subprocess\nimport time\nfrom typing import Dict, List, Tuple\n\nclass SystemIntegrationManager(Node):\n    def __init__(self):\n        super().__init__('system_integration_manager')\n\n        # System components and their states\n        self.components = {\n            'ros2_core': {'status': 'unknown', 'pid': None, 'health': 'unknown'},\n            'navigation_stack': {'status': 'unknown', 'pid': None, 'health': 'unknown'},\n            'perception_stack': {'status': 'unknown', 'pid': None, 'health': 'unknown'},\n            'control_stack': {'status': 'unknown', 'pid': None, 'health': 'unknown'},\n            'ai_stack': {'status': 'unknown', 'pid': None, 'health': 'unknown'},\n            'simulation': {'status': 'unknown', 'pid': None, 'health': 'unknown'}\n        }\n\n        # Publishers and subscribers\n        self.system_status_pub = self.create_publisher(\n            String, '/system_status', 10)\n        self.integration_command_sub = self.create_subscription(\n            String, '/integration_command', self.integration_command_callback, 10)\n\n        # Timers for monitoring\n        self.monitoring_timer = self.create_timer(2.0, self.monitor_components)\n        self.health_check_timer = self.create_timer(5.0, self.health_check)\n\n        # Initialize system\n        self.initialize_system()\n\n    def initialize_system(self):\n        \"\"\"Initialize all system components\"\"\"\n        self.get_logger().info('Initializing humanoid robot system...')\n\n        # Start core ROS 2 system\n        self.start_ros2_core()\n\n        # Start individual stacks\n        self.start_perception_stack()\n        self.start_control_stack()\n        self.start_navigation_stack()\n        self.start_ai_stack()\n\n        # Wait for components to be ready\n        self.wait_for_components_ready()\n\n        self.get_logger().info('All system components initialized')\n\n    def start_ros2_core(self):\n        \"\"\"Start ROS 2 core system\"\"\"\n        try:\n            # Launch ROS 2 master\n            self.components['ros2_core']['pid'] = subprocess.Popen(['ros2', 'daemon', 'start'])\n            time.sleep(2)  # Wait for daemon to start\n\n            self.components['ros2_core']['status'] = 'running'\n            self.components['ros2_core']['health'] = 'nominal'\n\n            self.get_logger().info('ROS 2 core started successfully')\n        except Exception as e:\n            self.get_logger().error(f'Failed to start ROS 2 core: {e}')\n            self.components['ros2_core']['status'] = 'error'\n            self.components['ros2_core']['health'] = 'error'\n\n    def start_perception_stack(self):\n        \"\"\"Start perception stack\"\"\"\n        try:\n            # Launch perception nodes\n            launch_cmd = [\n                'ros2', 'launch', 'perception_stack', 'perception.launch.py'\n            ]\n            self.components['perception_stack']['pid'] = subprocess.Popen(launch_cmd)\n\n            # Wait briefly for process to start\n            time.sleep(3)\n\n            self.components['perception_stack']['status'] = 'running'\n            self.components['perception_stack']['health'] = 'nominal'\n\n            self.get_logger().info('Perception stack started successfully')\n        except Exception as e:\n            self.get_logger().error(f'Failed to start perception stack: {e}')\n            self.components['perception_stack']['status'] = 'error'\n            self.components['perception_stack']['health'] = 'error'\n\n    def start_control_stack(self):\n        \"\"\"Start control stack\"\"\"\n        try:\n            # Launch control nodes\n            launch_cmd = [\n                'ros2', 'launch', 'control_stack', 'control.launch.py'\n            ]\n            self.components['control_stack']['pid'] = subprocess.Popen(launch_cmd)\n\n            time.sleep(3)\n\n            self.components['control_stack']['status'] = 'running'\n            self.components['control_stack']['health'] = 'nominal'\n\n            self.get_logger().info('Control stack started successfully')\n        except Exception as e:\n            self.get_logger().error(f'Failed to start control stack: {e}')\n            self.components['control_stack']['status'] = 'error'\n            self.components['control_stack']['health'] = 'error'\n\n    def start_navigation_stack(self):\n        \"\"\"Start navigation stack\"\"\"\n        try:\n            # Launch navigation nodes\n            launch_cmd = [\n                'ros2', 'launch', 'nav2_bringup', 'navigation_launch.py'\n            ]\n            self.components['navigation_stack']['pid'] = subprocess.Popen(launch_cmd)\n\n            time.sleep(5)  # Navigation takes longer to start\n\n            self.components['navigation_stack']['status'] = 'running'\n            self.components['navigation_stack']['health'] = 'nominal'\n\n            self.get_logger().info('Navigation stack started successfully')\n        except Exception as e:\n            self.get_logger().error(f'Failed to start navigation stack: {e}')\n            self.components['navigation_stack']['status'] = 'error'\n            self.components['navigation_stack']['health'] = 'error'\n\n    def start_ai_stack(self):\n        \"\"\"Start AI stack\"\"\"\n        try:\n            # Launch AI nodes (LLM, vision, NLP)\n            launch_cmd = [\n                'ros2', 'launch', 'ai_stack', 'ai.launch.py'\n            ]\n            self.components['ai_stack']['pid'] = subprocess.Popen(launch_cmd)\n\n            time.sleep(4)\n\n            self.components['ai_stack']['status'] = 'running'\n            self.components['ai_stack']['health'] = 'nominal'\n\n            self.get_logger().info('AI stack started successfully')\n        except Exception as e:\n            self.get_logger().error(f'Failed to start AI stack: {e}')\n            self.components['ai_stack']['status'] = 'error'\n            self.components['ai_stack']['health'] = 'error'\n\n    def wait_for_components_ready(self):\n        \"\"\"Wait for all components to be ready\"\"\"\n        timeout = 30  # seconds\n        start_time = time.time()\n\n        while time.time() - start_time < timeout:\n            all_ready = True\n            for comp_name, comp_info in self.components.items():\n                if comp_info['status'] != 'running' or comp_info['health'] != 'nominal':\n                    all_ready = False\n                    break\n\n            if all_ready:\n                self.get_logger().info('All components ready')\n                return True\n\n            time.sleep(1)\n\n        self.get_logger().warn('Timeout waiting for components to be ready')\n        return False\n\n    def monitor_components(self):\n        \"\"\"Monitor component health\"\"\"\n        for comp_name, comp_info in self.components.items():\n            if comp_info['pid']:\n                # Check if process is still running\n                return_code = comp_info['pid'].poll()\n                if return_code is not None:\n                    # Process died\n                    comp_info['status'] = 'stopped'\n                    comp_info['health'] = 'error'\n                    self.get_logger().error(f'{comp_name} process died with code: {return_code}')\n\n                    # Attempt restart\n                    self.restart_component(comp_name)\n                else:\n                    # Process is running, check health\n                    if comp_info['status'] == 'running':\n                        comp_info['health'] = 'nominal'\n            else:\n                # Component not started\n                if comp_info['status'] != 'error':\n                    comp_info['health'] = 'not_started'\n\n    def restart_component(self, component_name):\n        \"\"\"Restart a failed component\"\"\"\n        self.get_logger().info(f'Restarting component: {component_name}')\n\n        try:\n            if component_name == 'ros2_core':\n                self.start_ros2_core()\n            elif component_name == 'perception_stack':\n                self.start_perception_stack()\n            elif component_name == 'control_stack':\n                self.start_control_stack()\n            elif component_name == 'navigation_stack':\n                self.start_navigation_stack()\n            elif component_name == 'ai_stack':\n                self.start_ai_stack()\n        except Exception as e:\n            self.get_logger().error(f'Failed to restart {component_name}: {e}')\n\n    def health_check(self):\n        \"\"\"Perform system health check\"\"\"\n        overall_health = 'nominal'\n\n        for comp_name, comp_info in self.components.items():\n            if comp_info['health'] == 'error':\n                overall_health = 'error'\n                break\n            elif comp_info['health'] == 'degraded' and overall_health == 'nominal':\n                overall_health = 'degraded'\n\n        # Publish system status\n        status_msg = String()\n        status_msg.data = f\"Overall Health: {overall_health}\"\n        self.system_status_pub.publish(status_msg)\n\n    def integration_command_callback(self, msg):\n        \"\"\"Handle integration commands\"\"\"\n        command = msg.data\n\n        if command == 'restart_all':\n            self.restart_all_components()\n        elif command == 'stop_all':\n            self.stop_all_components()\n        elif command == 'health_check':\n            self.perform_manual_health_check()\n        elif command.startswith('start_'):\n            component = command.split('_', 1)[1]\n            self.start_component(component)\n        elif command.startswith('stop_'):\n            component = command.split('_', 1)[1]\n            self.stop_component(component)\n\n    def restart_all_components(self):\n        \"\"\"Restart all system components\"\"\"\n        self.get_logger().info('Restarting all components...')\n\n        # Stop all components first\n        self.stop_all_components()\n\n        # Wait briefly\n        time.sleep(2)\n\n        # Restart all components\n        self.initialize_system()\n\n    def stop_all_components(self):\n        \"\"\"Stop all system components\"\"\"\n        self.get_logger().info('Stopping all components...')\n\n        for comp_name, comp_info in self.components.items():\n            if comp_info['pid']:\n                try:\n                    comp_info['pid'].terminate()\n                    comp_info['pid'].wait(timeout=5)\n                    comp_info['status'] = 'stopped'\n                    comp_info['health'] = 'stopped'\n                except subprocess.TimeoutExpired:\n                    comp_info['pid'].kill()\n                    comp_info['status'] = 'killed'\n                    comp_info['health'] = 'killed'\n                except Exception as e:\n                    self.get_logger().error(f'Error stopping {comp_name}: {e}')\n\n    def start_component(self, component_name):\n        \"\"\"Start a specific component\"\"\"\n        if component_name in self.components:\n            if component_name == 'ros2_core':\n                self.start_ros2_core()\n            elif component_name == 'perception_stack':\n                self.start_perception_stack()\n            elif component_name == 'control_stack':\n                self.start_control_stack()\n            elif component_name == 'navigation_stack':\n                self.start_navigation_stack()\n            elif component_name == 'ai_stack':\n                self.start_ai_stack()\n\n    def stop_component(self, component_name):\n        \"\"\"Stop a specific component\"\"\"\n        if component_name in self.components:\n            comp_info = self.components[component_name]\n            if comp_info['pid']:\n                try:\n                    comp_info['pid'].terminate()\n                    comp_info['pid'].wait(timeout=5)\n                    comp_info['status'] = 'stopped'\n                    comp_info['health'] = 'stopped'\n                except subprocess.TimeoutExpired:\n                    comp_info['pid'].kill()\n                    comp_info['status'] = 'killed'\n                    comp_info['health'] = 'killed'\n                except Exception as e:\n                    self.get_logger().error(f'Error stopping {component_name}: {e}')\n\n    def perform_manual_health_check(self):\n        \"\"\"Perform manual health check\"\"\"\n        self.get_logger().info('Manual health check initiated')\n        self.health_check()\n")),(0,o.yg)("h2",{id:"simulation-to-real-deployment"},"Simulation to Real Deployment"),(0,o.yg)("h3",{id:"hardware-abstraction-layer"},"Hardware Abstraction Layer"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},'import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\nfrom sensor_msgs.msg import JointState\nfrom control_msgs.msg import JointTrajectoryControllerState\nfrom humanoid_robot_msgs.msg import HardwareStatus\nimport yaml\nimport json\nfrom abc import ABC, abstractmethod\n\nclass HardwareInterface(ABC):\n    """Abstract base class for hardware interfaces"""\n\n    @abstractmethod\n    def connect(self):\n        """Connect to hardware"""\n        pass\n\n    @abstractmethod\n    def disconnect(self):\n        """Disconnect from hardware"""\n        pass\n\n    @abstractmethod\n    def get_joint_states(self) -> Dict[str, float]:\n        """Get current joint states"""\n        pass\n\n    @abstractmethod\n    def send_joint_commands(self, commands: Dict[str, float]):\n        """Send joint commands"""\n        pass\n\n    @abstractmethod\n    def get_sensor_data(self) -> Dict[str, any]:\n        """Get sensor data"""\n        pass\n\nclass SimulationHardwareInterface(HardwareInterface):\n    """Hardware interface for simulation"""\n\n    def __init__(self, node: Node):\n        self.node = node\n        self.connected = False\n\n        # Subscribers for simulation data\n        self.joint_state_sub = node.create_subscription(\n            JointState, \'/joint_states\', self.joint_state_callback, 10)\n        self.controller_state_sub = node.create_subscription(\n            JointTrajectoryControllerState, \'/controller_state\', self.controller_state_callback, 10)\n\n        # Publishers for simulation commands\n        self.joint_command_pub = node.create_publisher(\n            JointTrajectory, \'/joint_group_position_controller/joint_trajectory\', 10)\n\n        self.current_joint_states = {}\n        self.current_controller_state = {}\n\n    def connect(self):\n        """Connect to simulation"""\n        self.connected = True\n        self.node.get_logger().info(\'Connected to simulation hardware interface\')\n        return True\n\n    def disconnect(self):\n        """Disconnect from simulation"""\n        self.connected = False\n        self.node.get_logger().info(\'Disconnected from simulation hardware interface\')\n\n    def get_joint_states(self) -> Dict[str, float]:\n        """Get current joint states from simulation"""\n        return self.current_joint_states\n\n    def send_joint_commands(self, commands: Dict[str, float]):\n        """Send joint commands to simulation"""\n        if not self.connected:\n            return False\n\n        # Create trajectory message\n        traj_msg = JointTrajectory()\n        traj_msg.joint_names = list(commands.keys())\n\n        point = JointTrajectoryPoint()\n        point.positions = list(commands.values())\n        point.time_from_start.sec = 1  # Execute in 1 second\n        traj_msg.points.append(point)\n\n        self.joint_command_pub.publish(traj_msg)\n        return True\n\n    def get_sensor_data(self) -> Dict[str, any]:\n        """Get sensor data from simulation"""\n        return {\n            \'imu\': {},\n            \'camera\': {},\n            \'lidar\': {},\n            \'force_torque\': {}\n        }\n\n    def joint_state_callback(self, msg):\n        """Handle joint state updates from simulation"""\n        for i, name in enumerate(msg.name):\n            if i < len(msg.position):\n                self.current_joint_states[name] = msg.position[i]\n\n    def controller_state_callback(self, msg):\n        """Handle controller state updates"""\n        self.current_controller_state = msg\n\nclass RealHardwareInterface(HardwareInterface):\n    """Hardware interface for real robot"""\n\n    def __init__(self, node: Node, config_file: str):\n        self.node = node\n        self.config_file = config_file\n        self.connected = False\n        self.hardware_handles = {}\n\n        # Load hardware configuration\n        self.load_config()\n\n        # Initialize real hardware connections\n        self.initialize_real_hardware()\n\n    def load_config(self):\n        """Load hardware configuration"""\n        try:\n            with open(self.config_file, \'r\') as f:\n                self.config = yaml.safe_load(f)\n        except Exception as e:\n            self.node.get_logger().error(f\'Failed to load config: {e}\')\n            self.config = {}\n\n    def initialize_real_hardware(self):\n        """Initialize connections to real hardware"""\n        # Initialize motor controllers\n        self.initialize_motor_controllers()\n\n        # Initialize sensor interfaces\n        self.initialize_sensor_interfaces()\n\n        # Initialize communication protocols\n        self.initialize_communication_protocols()\n\n    def initialize_motor_controllers(self):\n        """Initialize motor controllers"""\n        motors = self.config.get(\'motors\', [])\n        for motor in motors:\n            # Initialize specific motor controller\n            # This would depend on the specific hardware\n            self.node.get_logger().info(f\'Initializing motor: {motor["name"]}\')\n\n    def initialize_sensor_interfaces(self):\n        """Initialize sensor interfaces"""\n        sensors = self.config.get(\'sensors\', [])\n        for sensor in sensors:\n            # Initialize specific sensor interface\n            self.node.get_logger().info(f\'Initializing sensor: {sensor["name"]}\')\n\n    def initialize_communication_protocols(self):\n        """Initialize communication protocols"""\n        # Initialize CAN, EtherCAT, or other communication protocols\n        self.node.get_logger().info(\'Initializing communication protocols\')\n\n    def connect(self):\n        """Connect to real hardware"""\n        try:\n            # Establish connections to all hardware components\n            success = self.connect_to_motors()\n            if not success:\n                return False\n\n            success = self.connect_to_sensors()\n            if not success:\n                return False\n\n            self.connected = True\n            self.node.get_logger().info(\'Connected to real hardware interface\')\n            return True\n\n        except Exception as e:\n            self.node.get_logger().error(f\'Connection failed: {e}\')\n            return False\n\n    def disconnect(self):\n        """Disconnect from real hardware"""\n        try:\n            self.disconnect_from_motors()\n            self.disconnect_from_sensors()\n            self.connected = False\n            self.node.get_logger().info(\'Disconnected from real hardware interface\')\n        except Exception as e:\n            self.node.get_logger().error(f\'Disconnection error: {e}\')\n\n    def connect_to_motors(self):\n        """Connect to motor controllers"""\n        # Implementation depends on specific hardware\n        return True\n\n    def disconnect_from_motors(self):\n        """Disconnect from motor controllers"""\n        # Implementation depends on specific hardware\n        pass\n\n    def connect_to_sensors(self):\n        """Connect to sensors"""\n        # Implementation depends on specific hardware\n        return True\n\n    def disconnect_from_sensors(self):\n        """Disconnect from sensors"""\n        # Implementation depends on specific hardware\n        pass\n\n    def get_joint_states(self) -> Dict[str, float]:\n        """Get current joint states from real hardware"""\n        # Query real hardware for joint states\n        states = {}\n        # This would involve querying actual encoders/sensors\n        return states\n\n    def send_joint_commands(self, commands: Dict[str, float]):\n        """Send joint commands to real hardware"""\n        if not self.connected:\n            return False\n\n        # Send commands to real motor controllers\n        # This would involve converting to hardware-specific commands\n        return True\n\n    def get_sensor_data(self) -> Dict[str, any]:\n        """Get sensor data from real hardware"""\n        # Query real sensors\n        data = {}\n        # This would involve reading from actual sensors\n        return data\n\nclass HardwareAbstractionLayer(Node):\n    """Hardware abstraction layer for switching between sim and real"""\n\n    def __init__(self):\n        super().__init__(\'hardware_abstraction_layer\')\n\n        # Determine if running in simulation or real\n        self.mode = self.get_parameter_or(\'mode\', \'simulation\')  # \'simulation\' or \'real\'\n\n        # Initialize appropriate hardware interface\n        if self.mode == \'simulation\':\n            self.hw_interface = SimulationHardwareInterface(self)\n        else:\n            config_file = self.get_parameter_or(\'config_file\', \'robot_config.yaml\')\n            self.hw_interface = RealHardwareInterface(self, config_file)\n\n        # Publishers and subscribers\n        self.hardware_status_pub = self.create_publisher(\n            HardwareStatus, \'/hardware_status\', 10)\n\n        # Connect to hardware\n        self.connect_to_hardware()\n\n        # Timer for status updates\n        self.status_timer = self.create_timer(1.0, self.publish_hardware_status)\n\n    def connect_to_hardware(self):\n        """Connect to appropriate hardware"""\n        success = self.hw_interface.connect()\n        if success:\n            self.get_logger().info(f\'Connected to {self.mode} hardware\')\n        else:\n            self.get_logger().error(f\'Failed to connect to {self.mode} hardware\')\n\n    def publish_hardware_status(self):\n        """Publish hardware status"""\n        status_msg = HardwareStatus()\n        status_msg.mode = self.mode\n        status_msg.connected = self.hw_interface.connected\n        status_msg.timestamp = self.get_clock().now().to_msg()\n\n        self.hardware_status_pub.publish(status_msg)\n\n    def get_joint_states(self):\n        """Get joint states through abstraction layer"""\n        return self.hw_interface.get_joint_states()\n\n    def send_joint_commands(self, commands):\n        """Send joint commands through abstraction layer"""\n        return self.hw_interface.send_joint_commands(commands)\n\n    def get_sensor_data(self):\n        """Get sensor data through abstraction layer"""\n        return self.hw_interface.get_sensor_data()\n')),(0,o.yg)("h2",{id:"performance-optimization-and-profiling"},"Performance Optimization and Profiling"),(0,o.yg)("h3",{id:"system-performance-monitor"},"System Performance Monitor"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},'import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\nfrom diagnostic_msgs.msg import DiagnosticArray, DiagnosticStatus\nimport psutil\nimport time\nimport threading\nfrom collections import deque\nimport statistics\n\nclass SystemPerformanceMonitor(Node):\n    def __init__(self):\n        super().__init__(\'system_performance_monitor\')\n\n        # Performance metrics\n        self.cpu_history = deque(maxlen=100)\n        self.memory_history = deque(maxlen=100)\n        self.network_history = deque(maxlen=100)\n        self.disk_history = deque(maxlen=100)\n\n        # Publishers\n        self.diag_pub = self.create_publisher(DiagnosticArray, \'/diagnostics\', 10)\n        self.performance_pub = self.create_publisher(String, \'/performance_metrics\', 10)\n\n        # Timer for monitoring\n        self.monitor_timer = self.create_timer(1.0, self.collect_metrics)\n        self.diagnostic_timer = self.create_timer(2.0, self.publish_diagnostics)\n\n        # Performance thresholds\n        self.thresholds = {\n            \'cpu_high\': 80.0,      # Percentage\n            \'memory_high\': 85.0,   # Percentage\n            \'disk_high\': 90.0,     # Percentage\n            \'process_count_high\': 200  # Number of processes\n        }\n\n        self.get_logger().info(\'System performance monitor initialized\')\n\n    def collect_metrics(self):\n        """Collect system performance metrics"""\n        # CPU usage\n        cpu_percent = psutil.cpu_percent(interval=None)\n        self.cpu_history.append(cpu_percent)\n\n        # Memory usage\n        memory = psutil.virtual_memory()\n        memory_percent = memory.percent\n        self.memory_history.append(memory_percent)\n\n        # Disk usage\n        disk = psutil.disk_usage(\'/\')\n        disk_percent = (disk.used / disk.total) * 100\n        self.disk_history.append(disk_percent)\n\n        # Network I/O (since last check)\n        net_io = psutil.net_io_counters()\n        network_data = {\n            \'bytes_sent\': net_io.bytes_sent,\n            \'bytes_recv\': net_io.bytes_recv,\n            \'packets_sent\': net_io.packets_sent,\n            \'packets_recv\': net_io.packets_recv\n        }\n        self.network_history.append(network_data)\n\n        # Process count\n        process_count = len(psutil.pids())\n\n        # Publish performance metrics\n        metrics_str = f"CPU: {cpu_percent:.1f}%, Memory: {memory_percent:.1f}%, " \\\n                     f"Disk: {disk_percent:.1f}%, Processes: {process_count}"\n\n        metrics_msg = String()\n        metrics_msg.data = metrics_str\n        self.performance_pub.publish(metrics_msg)\n\n    def publish_diagnostics(self):\n        """Publish diagnostic information"""\n        diag_array = DiagnosticArray()\n        diag_array.header.stamp = self.get_clock().now().to_msg()\n\n        # Create diagnostic status for each metric\n        statuses = []\n\n        # CPU Status\n        cpu_avg = statistics.mean(list(self.cpu_history)[-10:]) if self.cpu_history else 0\n        cpu_diag = DiagnosticStatus()\n        cpu_diag.name = "CPU Usage"\n        cpu_diag.level = DiagnosticStatus.OK if cpu_avg < self.thresholds[\'cpu_high\'] else DiagnosticStatus.WARN\n        cpu_diag.message = f"CPU usage: {cpu_avg:.1f}%"\n        cpu_diag.hardware_id = "cpu"\n        statuses.append(cpu_diag)\n\n        # Memory Status\n        memory_avg = statistics.mean(list(self.memory_history)[-10:]) if self.memory_history else 0\n        memory_diag = DiagnosticStatus()\n        memory_diag.name = "Memory Usage"\n        memory_diag.level = DiagnosticStatus.OK if memory_avg < self.thresholds[\'memory_high\'] else DiagnosticStatus.WARN\n        memory_diag.message = f"Memory usage: {memory_avg:.1f}%"\n        memory_diag.hardware_id = "memory"\n        statuses.append(memory_diag)\n\n        # Disk Status\n        disk_avg = statistics.mean(list(self.disk_history)[-10:]) if self.disk_history else 0\n        disk_diag = DiagnosticStatus()\n        disk_diag.name = "Disk Usage"\n        disk_diag.level = DiagnosticStatus.OK if disk_avg < self.thresholds[\'disk_high\'] else DiagnosticStatus.WARN\n        disk_diag.message = f"Disk usage: {disk_avg:.1f}%"\n        disk_diag.hardware_id = "disk"\n        statuses.append(disk_diag)\n\n        # Process Count Status\n        process_count = len(psutil.pids())\n        process_diag = DiagnosticStatus()\n        process_diag.name = "Process Count"\n        process_diag.level = DiagnosticStatus.OK if process_count < self.thresholds[\'process_count_high\'] else DiagnosticStatus.WARN\n        process_diag.message = f"Running processes: {process_count}"\n        process_diag.hardware_id = "system"\n        statuses.append(process_diag)\n\n        diag_array.status = statuses\n        self.diag_pub.publish(diag_array)\n\n    def get_performance_summary(self):\n        """Get performance summary"""\n        if not self.cpu_history:\n            return "No data collected yet"\n\n        summary = {\n            \'cpu\': {\n                \'current\': self.cpu_history[-1] if self.cpu_history else 0,\n                \'average\': statistics.mean(self.cpu_history) if self.cpu_history else 0,\n                \'peak\': max(self.cpu_history) if self.cpu_history else 0\n            },\n            \'memory\': {\n                \'current\': self.memory_history[-1] if self.memory_history else 0,\n                \'average\': statistics.mean(self.memory_history) if self.memory_history else 0,\n                \'peak\': max(self.memory_history) if self.memory_history else 0\n            },\n            \'disk\': {\n                \'current\': self.disk_history[-1] if self.disk_history else 0,\n                \'average\': statistics.mean(self.disk_history) if self.disk_history else 0,\n                \'peak\': max(self.disk_history) if self.disk_history else 0\n            }\n        }\n\n        return summary\n\nclass PerformanceOptimizer:\n    """System performance optimizer"""\n\n    def __init__(self, node: Node):\n        self.node = node\n        self.performance_monitor = SystemPerformanceMonitor(node)\n\n        # Optimization strategies\n        self.optimization_strategies = {\n            \'cpu\': self.optimize_cpu_usage,\n            \'memory\': self.optimize_memory_usage,\n            \'network\': self.optimize_network_usage\n        }\n\n    def optimize_cpu_usage(self):\n        """Optimize CPU usage"""\n        # Reduce update rates for non-critical nodes\n        # Implement multi-threading where appropriate\n        # Optimize algorithms for efficiency\n        pass\n\n    def optimize_memory_usage(self):\n        """Optimize memory usage"""\n        # Implement object pooling\n        # Reduce memory allocations\n        # Use efficient data structures\n        pass\n\n    def optimize_network_usage(self):\n        """Optimize network usage"""\n        # Reduce message frequency where possible\n        # Use compression for large messages\n        # Implement message batching\n        pass\n\n    def adaptive_optimization(self):\n        """Perform adaptive optimization based on current metrics"""\n        summary = self.performance_monitor.get_performance_summary()\n\n        if summary[\'cpu\'][\'current\'] > 80:\n            self.optimize_cpu_usage()\n        if summary[\'memory\'][\'current\'] > 85:\n            self.optimize_memory_usage()\n        # Add more adaptive optimizations as needed\n')),(0,o.yg)("h2",{id:"testing-and-validation-framework"},"Testing and Validation Framework"),(0,o.yg)("h3",{id:"comprehensive-testing-suite"},"Comprehensive Testing Suite"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-python"},'import unittest\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\nfrom geometry_msgs.msg import PoseStamped\nfrom humanoid_robot_msgs.msg import RobotStatus\nimport time\nimport threading\n\nclass HumanoidRobotTestSuite(unittest.TestCase):\n    def setUp(self):\n        """Setup test environment"""\n        rclpy.init()\n        self.test_node = TestNode(\'humanoid_robot_test_node\')\n        self.executor = rclpy.executors.SingleThreadedExecutor()\n        self.executor.add_node(self.test_node)\n\n    def tearDown(self):\n        """Cleanup after tests"""\n        self.executor.shutdown()\n        rclpy.shutdown()\n\n    def test_system_initialization(self):\n        """Test system initialization"""\n        # Wait for system to initialize\n        timeout = 10  # seconds\n        start_time = time.time()\n\n        while time.time() - start_time < timeout:\n            if self.test_node.system_initialized:\n                break\n            time.sleep(0.1)\n\n        self.assertTrue(self.test_node.system_initialized, "System failed to initialize")\n\n    def test_perception_system(self):\n        """Test perception system functionality"""\n        # Wait for perception data\n        timeout = 5\n        start_time = time.time()\n\n        while time.time() - start_time < timeout:\n            if self.test_node.perception_data_received:\n                break\n            time.sleep(0.1)\n\n        self.assertTrue(self.test_node.perception_data_received, "Perception system not working")\n\n    def test_navigation_system(self):\n        """Test navigation system"""\n        # Send navigation command\n        goal = PoseStamped()\n        goal.pose.position.x = 1.0\n        goal.pose.position.y = 1.0\n\n        self.test_node.send_navigation_command(goal)\n\n        # Wait for navigation to complete\n        timeout = 30\n        start_time = time.time()\n\n        while time.time() - start_time < timeout:\n            if self.test_node.navigation_completed:\n                break\n            time.sleep(0.1)\n\n        self.assertTrue(self.test_node.navigation_completed, "Navigation failed")\n\n    def test_manipulation_system(self):\n        """Test manipulation system"""\n        # This would test picking up and placing objects\n        success = self.test_node.test_manipulation_sequence()\n        self.assertTrue(success, "Manipulation sequence failed")\n\n    def test_ai_integration(self):\n        """Test AI system integration"""\n        # Test voice command processing\n        command = "move forward 1 meter"\n        success = self.test_node.process_voice_command(command)\n        self.assertTrue(success, "AI command processing failed")\n\nclass TestNode(Node):\n    def __init__(self, node_name):\n        super().__init__(node_name)\n\n        # Test state\n        self.system_initialized = False\n        self.perception_data_received = False\n        self.navigation_completed = False\n        self.manipulation_success = False\n\n        # Publishers and subscribers for testing\n        self.status_sub = self.create_subscription(\n            RobotStatus, \'/robot_status\', self.status_callback, 10)\n\n        # Initialize test subjects\n        self.initialize_test_subjects()\n\n    def initialize_test_subjects(self):\n        """Initialize components to test"""\n        # Wait briefly for system to be ready\n        time.sleep(2)\n\n        # Check if system is operational\n        self.system_initialized = True  # This would be determined by actual status\n\n    def status_callback(self, msg):\n        """Handle robot status updates"""\n        if msg.operational:\n            self.system_initialized = True\n\n    def send_navigation_command(self, goal):\n        """Send navigation command for testing"""\n        # Implementation would send goal to navigation system\n        pass\n\n    def test_manipulation_sequence(self):\n        """Test manipulation sequence"""\n        # Implementation would test manipulation capabilities\n        return True\n\n    def process_voice_command(self, command):\n        """Process voice command for testing"""\n        # Implementation would send command to NLP system\n        return True\n\nclass IntegrationTestRunner:\n    """Runner for integration tests"""\n\n    def __init__(self):\n        self.test_results = {}\n        self.test_suite = HumanoidRobotTestSuite()\n\n    def run_all_tests(self):\n        """Run all integration tests"""\n        loader = unittest.TestLoader()\n        suite = loader.loadTestsFromTestCase(HumanoidRobotTestSuite)\n\n        runner = unittest.TextTestRunner(verbosity=2)\n        result = runner.run(suite)\n\n        return result\n\n    def run_specific_test(self, test_name):\n        """Run specific test by name"""\n        suite = unittest.TestSuite()\n        suite.addTest(HumanoidRobotTestSuite(test_name))\n\n        runner = unittest.TextTestRunner(verbosity=2)\n        result = runner.run(suite)\n\n        return result\n\n    def generate_test_report(self, results):\n        """Generate test report"""\n        report = {\n            \'timestamp\': time.time(),\n            \'total_tests\': results.testsRun,\n            \'passed\': results.testsRun - len(results.failures) - len(results.errors),\n            \'failed\': len(results.failures),\n            \'errors\': len(results.errors),\n            \'failures\': [str(failure[0]) for failure in results.failures],\n            \'errors\': [str(error[0]) for error in results.errors]\n        }\n\n        return report\n\ndef run_integration_tests():\n    """Run the complete integration test suite"""\n    runner = IntegrationTestRunner()\n    results = runner.run_all_tests()\n\n    # Generate report\n    report = runner.generate_test_report(results)\n\n    print("\\n" + "="*50)\n    print("INTEGRATION TEST RESULTS")\n    print("="*50)\n    print(f"Total Tests: {report[\'total_tests\']}")\n    print(f"Passed: {report[\'passed\']}")\n    print(f"Failed: {report[\'failed\']}")\n    print(f"Errors: {report[\'errors\']}")\n\n    if report[\'failures\']:\n        print("\\nFAILURES:")\n        for failure in report[\'failures\']:\n            print(f"  - {failure}")\n\n    if report[\'errors\']:\n        print("\\nERRORS:")\n        for error in report[\'errors\']:\n            print(f"  - {error}")\n\n    print("="*50)\n\n    return results\n')),(0,o.yg)("h2",{id:"deployment-and-validation"},"Deployment and Validation"),(0,o.yg)("h3",{id:"complete-deployment-script"},"Complete Deployment Script"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n\n# Humanoid Robot Deployment Script\n# This script deploys the complete humanoid robot system\n\nset -e  # Exit on any error\n\necho "==========================================="\necho "Humanoid Robot System Deployment Script"\necho "==========================================="\n\n# Configuration\nROBOT_NAME=${ROBOT_NAME:-"humanoid_robot"}\nDEPLOY_MODE=${DEPLOY_MODE:-"simulation"}  # simulation or real\nCONFIG_DIR=${CONFIG_DIR:-"/etc/humanoid_robot"}\nLOG_DIR=${LOG_DIR:-"/var/log/humanoid_robot"}\n\n# Colors for output\nRED=\'\\033[0;31m\'\nGREEN=\'\\033[0;32m\'\nYELLOW=\'\\033[1;33m\'\nNC=\'\\033[0m\' # No Color\n\n# Logging function\nlog() {\n    echo -e "${GREEN}[INFO]${NC} $1"\n    echo "[INFO] $(date): $1" >> ${LOG_DIR}/deployment.log\n}\n\nlog_warn() {\n    echo -e "${YELLOW}[WARN]${NC} $1"\n    echo "[WARN] $(date): $1" >> ${LOG_DIR}/deployment.log\n}\n\nlog_error() {\n    echo -e "${RED}[ERROR]${NC} $1"\n    echo "[ERROR] $(date): $1" >> ${LOG_DIR}/deployment.log\n}\n\n# Check prerequisites\ncheck_prerequisites() {\n    log "Checking prerequisites..."\n\n    # Check if running as root (for some operations)\n    if [ "$EUID" -ne 0 ]; then\n        log_warn "Not running as root. Some operations may fail."\n    fi\n\n    # Check if ROS 2 is installed\n    if ! command -v ros2 &> /dev/null; then\n        log_error "ROS 2 is not installed"\n        exit 1\n    fi\n\n    # Check if required directories exist\n    mkdir -p ${CONFIG_DIR}\n    mkdir -p ${LOG_DIR}\n\n    log "Prerequisites check completed"\n}\n\n# Setup ROS 2 workspace\nsetup_workspace() {\n    log "Setting up ROS 2 workspace..."\n\n    # Source ROS 2\n    source /opt/ros/humble/setup.bash\n\n    # Create workspace if it doesn\'t exist\n    if [ ! -d "ws_humanoid_robot" ]; then\n        mkdir -p ws_humanoid_robot/src\n        cd ws_humanoid_robot\n\n        # Copy source code (assuming it\'s in the current directory)\n        # This would be customized based on your project structure\n        cp -r ../robotics_book/* src/\n\n        # Build the workspace\n        colcon build --packages-select humanoid_robot_core humanoid_robot_perception humanoid_robot_control\n    else\n        cd ws_humanoid_robot\n        # Pull latest changes and rebuild\n        git pull origin main\n        colcon build\n    fi\n\n    source install/setup.bash\n    log "Workspace setup completed"\n}\n\n# Configure system\nconfigure_system() {\n    log "Configuring system..."\n\n    # Copy configuration files\n    cp -r config/* ${CONFIG_DIR}/\n\n    # Set proper permissions\n    chmod +x ${CONFIG_DIR}/*.yaml\n    chmod +x ${CONFIG_DIR}/*.xml\n\n    # Create systemd services (for real robot deployment)\n    if [ "$DEPLOY_MODE" = "real" ]; then\n        cat > /etc/systemd/system/humanoid-robot.service << EOF\n[Unit]\nDescription=Humanoid Robot System\nAfter=network.target\n\n[Service]\nType=simple\nUser=robot\nExecStart=/usr/bin/ros2 launch humanoid_robot_bringup robot.launch.py\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n        systemctl daemon-reload\n        systemctl enable humanoid-robot.service\n    fi\n\n    log "System configuration completed"\n}\n\n# Deploy simulation environment\ndeploy_simulation() {\n    log "Deploying simulation environment..."\n\n    # Start Gazebo simulation\n    nohup ros2 launch humanoid_robot_gazebo simulation.launch.py > ${LOG_DIR}/gazebo.log 2>&1 &\n    GAZEBO_PID=$!\n    echo $GAZEBO_PID > /tmp/humanoid_gazebo.pid\n\n    # Start robot in simulation\n    nohup ros2 launch humanoid_robot_bringup simulation.launch.py > ${LOG_DIR}/robot_sim.log 2>&1 &\n    ROBOT_PID=$!\n    echo $ROBOT_PID > /tmp/humanoid_robot.pid\n\n    log "Simulation environment deployed"\n    log "Gazebo PID: $GAZEBO_PID"\n    log "Robot PID: $ROBOT_PID"\n}\n\n# Deploy real robot\ndeploy_real_robot() {\n    log "Deploying real robot system..."\n\n    # Check if real hardware is connected\n    if ! lsusb | grep -q "robot"; then\n        log_warn "Real robot hardware not detected"\n    fi\n\n    # Start robot system\n    if [ "$DEPLOY_MODE" = "real" ]; then\n        nohup ros2 launch humanoid_robot_bringup robot.launch.py > ${LOG_DIR}/robot_real.log 2>&1 &\n        ROBOT_PID=$!\n        echo $ROBOT_PID > /tmp/humanoid_robot.pid\n\n        log "Real robot system deployed with PID: $ROBOT_PID"\n    fi\n}\n\n# Run system tests\nrun_tests() {\n    log "Running system tests..."\n\n    # Wait a bit for systems to start\n    sleep 10\n\n    # Run integration tests\n    python3 -m pytest tests/integration_tests.py -v\n\n    log "System tests completed"\n}\n\n# Main deployment function\ndeploy() {\n    log "Starting deployment process..."\n\n    check_prerequisites\n    setup_workspace\n    configure_system\n\n    if [ "$DEPLOY_MODE" = "simulation" ]; then\n        deploy_simulation\n    else\n        deploy_real_robot\n    fi\n\n    run_tests\n\n    log "Deployment completed successfully!"\n    log "System is now running in $DEPLOY_MODE mode"\n\n    # Show status\n    if [ -f /tmp/humanoid_robot.pid ]; then\n        ROBOT_PID=$(cat /tmp/humanoid_robot.pid)\n        if ps -p $ROBOT_PID > /dev/null; then\n            log "Robot process is running with PID: $ROBOT_PID"\n        else\n            log_error "Robot process is not running!"\n        fi\n    fi\n}\n\n# Cleanup function\ncleanup() {\n    log "Cleaning up deployment..."\n\n    # Kill running processes\n    if [ -f /tmp/humanoid_gazebo.pid ]; then\n        GAZEBO_PID=$(cat /tmp/humanoid_gazebo.pid)\n        kill $GAZEBO_PID 2>/dev/null || true\n        rm /tmp/humanoid_gazebo.pid\n    fi\n\n    if [ -f /tmp/humanoid_robot.pid ]; then\n        ROBOT_PID=$(cat /tmp/humanoid_robot.pid)\n        kill $ROBOT_PID 2>/dev/null || true\n        rm /tmp/humanoid_robot.pid\n    fi\n\n    log "Cleanup completed"\n}\n\n# Help function\nshow_help() {\n    echo "Usage: $0 [OPTIONS]"\n    echo "Options:"\n    echo "  deploy                    Deploy the system"\n    echo "  cleanup                   Clean up deployment"\n    echo "  status                    Show system status"\n    echo "  -m, --mode MODE          Deployment mode (simulation|real) [default: simulation]"\n    echo "  -h, --help              Show this help message"\n}\n\n# Status function\nshow_status() {\n    echo "System Status:"\n    echo "=============="\n\n    if [ -f /tmp/humanoid_robot.pid ]; then\n        ROBOT_PID=$(cat /tmp/humanoid_robot.pid)\n        if ps -p $ROBOT_PID > /dev/null; then\n            echo "Robot process: RUNNING (PID: $ROBOT_PID)"\n        else\n            echo "Robot process: STOPPED"\n        fi\n    else\n        echo "Robot process: NOT STARTED"\n    fi\n\n    if [ -f /tmp/humanoid_gazebo.pid ]; then\n        GAZEBO_PID=$(cat /tmp/humanoid_gazebo.pid)\n        if ps -p $GAZEBO_PID > /dev/null; then\n            echo "Gazebo process: RUNNING (PID: $GAZEBO_PID)"\n        else\n            echo "Gazebo process: STOPPED"\n        fi\n    fi\n}\n\n# Parse command line arguments\ncase "${1:-deploy}" in\n    deploy)\n        deploy\n        ;;\n    cleanup)\n        cleanup\n        ;;\n    status)\n        show_status\n        ;;\n    -h|--help)\n        show_help\n        ;;\n    *)\n        echo "Unknown option: $1"\n        show_help\n        exit 1\n        ;;\nesac\n')),(0,o.yg)("h2",{id:"best-practices-for-capstone-projects"},"Best Practices for Capstone Projects"),(0,o.yg)("h3",{id:"1-system-design-principles"},"1. System Design Principles"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Modularity"),": Design components to be independent and replaceable"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Scalability"),": Plan for future expansion and enhancement"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Maintainability"),": Write clean, documented code"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Robustness"),": Handle failures gracefully")),(0,o.yg)("h3",{id:"2-integration-strategies"},"2. Integration Strategies"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Gradual Integration"),": Integrate components incrementally"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Mock Interfaces"),": Use mocks for unready components"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Continuous Testing"),": Test integration continuously"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Version Control"),": Use proper versioning for components")),(0,o.yg)("h3",{id:"3-performance-considerations"},"3. Performance Considerations"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Resource Management"),": Monitor and optimize resource usage"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Real-time Constraints"),": Ensure timing requirements are met"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Communication Efficiency"),": Optimize message passing"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Parallel Processing"),": Use multi-threading where appropriate")),(0,o.yg)("h3",{id:"4-safety-and-reliability"},"4. Safety and Reliability"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Fail-safe Mechanisms"),": Implement safe failure modes"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Monitoring"),": Continuously monitor system health"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Logging"),": Maintain comprehensive logs"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Recovery"),": Implement automatic recovery procedures")),(0,o.yg)("h2",{id:"troubleshooting-common-integration-issues"},"Troubleshooting Common Integration Issues"),(0,o.yg)("h3",{id:"1-communication-problems"},"1. Communication Problems"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Check ROS 2 network configuration"),(0,o.yg)("li",{parentName:"ul"},"Verify topic and service names"),(0,o.yg)("li",{parentName:"ul"},"Ensure message type compatibility"),(0,o.yg)("li",{parentName:"ul"},"Check firewall settings")),(0,o.yg)("h3",{id:"2-performance-bottlenecks"},"2. Performance Bottlenecks"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Profile CPU and memory usage"),(0,o.yg)("li",{parentName:"ul"},"Optimize algorithms and data structures"),(0,o.yg)("li",{parentName:"ul"},"Reduce unnecessary computations"),(0,o.yg)("li",{parentName:"ul"},"Use efficient serialization methods")),(0,o.yg)("h3",{id:"3-hardware-integration-issues"},"3. Hardware Integration Issues"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Verify driver installations"),(0,o.yg)("li",{parentName:"ul"},"Check communication protocols"),(0,o.yg)("li",{parentName:"ul"},"Test hardware individually"),(0,o.yg)("li",{parentName:"ul"},"Validate calibration procedures")),(0,o.yg)("h2",{id:"hands-on-exercise"},"Hands-on Exercise"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Integrate all the components developed in previous chapters"),(0,o.yg)("li",{parentName:"ol"},"Create a deployment script for your system"),(0,o.yg)("li",{parentName:"ol"},"Run comprehensive system tests"),(0,o.yg)("li",{parentName:"ol"},"Optimize performance based on profiling results"),(0,o.yg)("li",{parentName:"ol"},"Document the complete system architecture")),(0,o.yg)("h2",{id:"quiz-questions"},"Quiz Questions"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"What are the key phases in capstone project execution?"),(0,o.yg)("li",{parentName:"ol"},"How do you design a hardware abstraction layer for simulation-to-real deployment?"),(0,o.yg)("li",{parentName:"ol"},"What are the best practices for system integration and testing?"))))}u.isMDXComponent=!0}}]);